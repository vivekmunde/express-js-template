model Analytics {
  id             String   @id @default(auto()) @map("_id") @db.ObjectId
  view           String
  parentView     String
  event          String
  label          String?
  metadata       Json?
  userAgent      String?
  url            String?
  ip             String?
  language       String
  userId         String?
  organizationId String?
  createdAt      DateTime @default(now())
  createdBy      String?  @db.ObjectId

  @@index([createdAt])
  @@index([view])
  @@index([event])
  @@index([parentView])
  @@index([organizationId])
  @@index([createdAt, view])
  @@index([createdAt, event])
  @@index([createdAt, parentView])
  @@index([organizationId, createdAt])
}

model AnalyticsView {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  key         String
  name        String
  description String?
  createdAt   DateTime @default(now())
  createdBy   String?  @db.ObjectId
  updatedAt   DateTime @updatedAt
  updatedBy   String?  @db.ObjectId
}

model AnalyticsViewChangeLog {
  id          String    @id @default(auto()) @map("_id") @db.ObjectId
  viewId      String    @db.ObjectId
  key         String
  name        String
  description String?
  createdAt   DateTime?
  createdBy   String?   @db.ObjectId
  updatedAt   DateTime?
  updatedBy   String?   @db.ObjectId
  archivedAt  DateTime?
  archivedBy  String?   @db.ObjectId
}

model AnalyticsHourlyOrgStats {
  id             String   @id @default(auto()) @map("_id") @db.ObjectId
  organizationId String
  hour           DateTime
  view           String
  event          String
  count          Int      @default(0)
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
}

model AnalyticsHourlyOrgUserStats {
  id             String   @id @default(auto()) @map("_id") @db.ObjectId
  organizationId String
  userId         String
  hour           DateTime
  view           String
  event          String
  count          Int      @default(0)
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
}

model AnalyticsDailyOrgStats {
  id             String   @id @default(auto()) @map("_id") @db.ObjectId
  organizationId String
  day            DateTime
  view           String
  event          String
  count          Int      @default(0)
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
}

model AnalyticsDailyOrgUserStats {
  id             String   @id @default(auto()) @map("_id") @db.ObjectId
  organizationId String
  userId         String
  day            DateTime
  view           String
  event          String
  count          Int      @default(0)
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
}

model AnalyticsMonthlyOrgStats {
  id             String   @id @default(auto()) @map("_id") @db.ObjectId
  organizationId String
  month          DateTime
  view           String
  event          String
  count          Int      @default(0)
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
}

model AnalyticsMonthlyOrgUserStats {
  id             String   @id @default(auto()) @map("_id") @db.ObjectId
  organizationId String
  userId         String
  month          DateTime
  view           String
  event          String
  count          Int      @default(0)
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
}
