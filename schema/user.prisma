enum UserCategory {
  SYSTEM
  ORGANIZATION
}

type TUserPreferences {
  language  String?
  themeMode String?
}

type TRBAC {
  organizationId String   @db.ObjectId
  roleIds        String[] @db.ObjectId
}

model User {
  id                String            @id @default(auto()) @map("_id") @db.ObjectId
  email             String            @unique
  name              String?
  category          UserCategory      @default(ORGANIZATION)
  rbacGlobalRoleIds String[]          @db.ObjectId
  rbacOrganizations TRBAC[]
  lastLoggedInOn    DateTime?
  preferences       TUserPreferences?
  createdAt         DateTime          @default(now())
  createdBy         String            @db.ObjectId
  updatedAt         DateTime?
  updatedBy         String?           @db.ObjectId
}

model UserChangeLog {
  id                String            @id @default(auto()) @map("_id") @db.ObjectId
  userId            String            @db.ObjectId
  email             String?
  name              String?
  category          UserCategory
  rbacGlobalRoleIds String[]          @db.ObjectId
  rbacOrganizations TRBAC[]
  lastLoggedInOn    DateTime?
  preferences       TUserPreferences?
  createdAt         DateTime?
  createdBy         String?           @db.ObjectId
  updatedAt         DateTime?
  updatedBy         String?           @db.ObjectId
  archivedAt        DateTime?
  archivedBy        String?           @db.ObjectId
}
